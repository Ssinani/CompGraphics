<<<<<<< HEAD
if ( window.GPUShaderStage === undefined ) {

	window.GPUShaderStage = { VERTEX: 1, FRAGMENT: 2, COMPUTE: 4 };

}

class WebGPU {

	static isAvailable() {

		return ( navigator.gpu !== undefined );

	}

	static getErrorMessage() {

		let message = 'Your browser does not support <a href="https://gpuweb.github.io/gpuweb/" style="color:blue">WebGPU</a>';

		if ( !! window.chrome ) message += '<br>Try: <b>chrome://flags/#enable-unsafe-webgpu</b>';
=======
let isAvailable = ( typeof navigator !== 'undefined' && navigator.gpu !== undefined );

if ( typeof window !== 'undefined' && isAvailable ) {

	isAvailable = Boolean( await navigator.gpu.requestAdapter() );

}

/**
 * A utility module with basic WebGPU capability testing.
 *
 * @hideconstructor
 * @three_import import WebGPU from 'three/addons/capabilities/WebGPU.js';
 */
class WebGPU {

	/**
	 * Returns `true` if WebGPU is available.
	 *
	 * @return {boolean} Whether WebGPU is available or not.
	 */
	static isAvailable() {

		return Boolean( isAvailable );

	}

	/**
	 * Returns a `div` element representing a formatted error message that can be appended in
	 * web sites if WebGPU isn't supported.
	 *
	 * @return {HTMLDivElement} A `div` element representing a formatted error message that WebGPU isn't supported.
	 */
	static getErrorMessage() {

		const message = 'Your browser does not support <a href="https://gpuweb.github.io/gpuweb/" style="color:blue">WebGPU</a> yet';
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46

		const element = document.createElement( 'div' );
		element.id = 'webgpumessage';
		element.style.fontFamily = 'monospace';
		element.style.fontSize = '13px';
		element.style.fontWeight = 'normal';
		element.style.textAlign = 'center';
		element.style.background = '#fff';
		element.style.color = '#000';
		element.style.padding = '1.5em';
<<<<<<< HEAD
		element.style.width = '400px';
=======
		element.style.maxWidth = '400px';
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46
		element.style.margin = '5em auto 0';

		element.innerHTML = message;

		return element;

	}

}

<<<<<<< HEAD
=======

>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46
export default WebGPU;
