<<<<<<< HEAD
class Clock {

	constructor( autoStart = true ) {

		this.autoStart = autoStart;

		this.startTime = 0;
		this.oldTime = 0;
		this.elapsedTime = 0;

=======
/**
 * Class for keeping track of time.
 */
class Clock {

	/**
	 * Constructs a new clock.
	 *
	 * @param {boolean} [autoStart=true] - Whether to automatically start the clock when
	 * `getDelta()` is called for the first time.
	 */
	constructor( autoStart = true ) {

		/**
		 * If set to `true`, the clock starts automatically when `getDelta()` is called
		 * for the first time.
		 *
		 * @type {boolean}
		 * @default true
		 */
		this.autoStart = autoStart;

		/**
		 * Holds the time at which the clock's `start()` method was last called.
		 *
		 * @type {number}
		 * @default 0
		 */
		this.startTime = 0;

		/**
		 * Holds the time at which the clock's `start()`, `getElapsedTime()` or
		 * `getDelta()` methods were last called.
		 *
		 * @type {number}
		 * @default 0
		 */
		this.oldTime = 0;

		/**
		 * Keeps track of the total time that the clock has been running.
		 *
		 * @type {number}
		 * @default 0
		 */
		this.elapsedTime = 0;

		/**
		 * Whether the clock is running or not.
		 *
		 * @type {boolean}
		 * @default true
		 */
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46
		this.running = false;

	}

<<<<<<< HEAD
	start() {

		this.startTime = now();
=======
	/**
	 * Starts the clock. When `autoStart` is set to `true`, the method is automatically
	 * called by the class.
	 */
	start() {

		this.startTime = performance.now();
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46

		this.oldTime = this.startTime;
		this.elapsedTime = 0;
		this.running = true;

	}

<<<<<<< HEAD
=======
	/**
	 * Stops the clock.
	 */
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46
	stop() {

		this.getElapsedTime();
		this.running = false;
		this.autoStart = false;

	}

<<<<<<< HEAD
=======
	/**
	 * Returns the elapsed time in seconds.
	 *
	 * @return {number} The elapsed time.
	 */
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46
	getElapsedTime() {

		this.getDelta();
		return this.elapsedTime;

	}

<<<<<<< HEAD
=======
	/**
	 * Returns the delta time in seconds.
	 *
	 * @return {number} The delta time.
	 */
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46
	getDelta() {

		let diff = 0;

		if ( this.autoStart && ! this.running ) {

			this.start();
			return 0;

		}

		if ( this.running ) {

<<<<<<< HEAD
			const newTime = now();
=======
			const newTime = performance.now();
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46

			diff = ( newTime - this.oldTime ) / 1000;
			this.oldTime = newTime;

			this.elapsedTime += diff;

		}

		return diff;

	}

}

<<<<<<< HEAD
function now() {

	return ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732

}

=======
>>>>>>> ec4a72bf778c99f3fba07e5595dd4831f9280f46
export { Clock };
